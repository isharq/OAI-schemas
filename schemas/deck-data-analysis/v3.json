{
  "type": "object",
  "required": ["analysis_topic", "questions", "total_score", "max_score", "pg_score"],
  "properties": {
    "analysis_topic": {
      "type": "string",
      "description": "The topic or category being analyzed (passed at runtime)"
    },
    "questions": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["question", "answer", "score", "reasoning"],
        "properties": {
          "question": {
            "type": "string",
            "description": "The question being evaluated"
          },
          "answer": {
            "type": "boolean",
            "description": "True or false answer to the question"
          },
          "score": {
            "type": "number",
            "description": "The score value associated with this question (applied if answer is true)"
          },
          "reasoning": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Bullet points explaining why the answer is true or false"
          }
        }
      },
      "description": "Array of questions with their answers and reasoning (number of questions is variable)"
    },
    "total_score": {
      "type": "number",
      "description": "Sum of all scores where answer is true"
    },
    "max_score": {
      "type": "number",
      "description": "The maximum possible score (passed at runtime)"
    },
    "pg_score": {
      "type": "string",
      "enum": ["Red", "Yellow", "Green", "Missing"],
      "description": "Performance grade based on score percentage: Missing (no answerable questions), Red (<50%), Yellow (50-80%), Green (>=80%)"
    }
  }
}
